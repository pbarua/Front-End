<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
<script src="../Eloquent/ancestry.js">

</script>        
</head>
<body>


    
<script>
//(function()        {alert('foo');   })  ();
    
//(function(message) {alert(message); }) ('moo');    
var ancestry = JSON.parse(ANCESTRY_FILE);

var byName = {};
ancestry.forEach(function(p) {
    byName[p.name] = p;
});
function ageDif(p) {
    return p.born - byName[p.mother].born;
};
var arr = ancestry.filter(function(p) {
    return p.mother in byName;
}).map(ageDif);
    
console.log((arr.reduce(function(a, b) {
    return a + b}) / arr.length).toFixed(2));

function centArray(c) {
   var arr = ancestry.filter(function(p) {
        return Math.ceil(p.died / 100) == c;
    }).map(function (p) {
        return p.died - p.born });
    return arr;
};

function avg(c) {
    var arr = centArray(c);    
    console.log(arr.reduce(function(a, b) {
        return a + b}) / arr.length);
};
avg(16);
avg(17);    
avg(18);
avg(19);
avg(20);
avg(21);
    
    
</script>
</body>
</html>